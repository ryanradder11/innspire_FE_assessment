<ng-container *ngIf="movieDetail$ | async as movieDetail; else loading">
  <mat-card>
    <mat-card-header>
      <mat-card-title>{{ movieDetail.title }}</mat-card-title>
      <mat-card-subtitle>{{ movieDetail.year }}</mat-card-subtitle>
    </mat-card-header>
    <img mat-card-image [src]="movieDetail.image" alt="{{ movieDetail.title }}">
    <mat-card-content>
      <p>{{ movieDetail.plot }}</p>
      <mat-list>
        <mat-list-item >
          <mat-icon matListItemIcon>person</mat-icon>
          <div matListItemTitle>Directors</div>
          <div *ngFor="let director of movieDetail.directorList" matListItemLine>{{ director.name }}</div>
        </mat-list-item>
        <mat-list-item>
          <mat-icon matListItemIcon>star</mat-icon>
          <div class="mat-line">Stars</div>
          <div *ngFor="let star of movieDetail.starList" class="mat-line">{{ star.name }}</div>
        </mat-list-item>
        <mat-list-item>
          <mat-icon matListItemIcon>schedule</mat-icon>
          <div class="mat-line">Runtime</div>
          <div class="mat-line">{{ movieDetail.runtimeStr }}</div>
        </mat-list-item>
        <mat-list-item>
          <mat-icon matListItemIcon>calendar_today</mat-icon>
          <div class="mat-line">Release Date</div>
          <div class="mat-line">{{ movieDetail.releaseDate }}</div>
        </mat-list-item>
        <mat-list-item>
          <mat-icon matListItemIcon>grade</mat-icon>
          <div class="mat-line">IMDb Rating</div>
          <div class="mat-line">{{ movieDetail.imDbRating }}</div>
        </mat-list-item>
        <mat-list-item>
          <mat-icon matListItemIcon>emoji_events</mat-icon>
          <div class="mat-line">Awards</div>
          <div class="mat-line">{{ movieDetail.awards }}</div>
        </mat-list-item>
        <mat-list-item *ngIf="movieDetail.languageList.length > 0">
          <mat-icon matListItemIcon>language</mat-icon>
          <div class="mat-line">Languages</div>
          <div *ngFor="let language of movieDetail.languageList" class="mat-line">{{ language.value }}</div>
        </mat-list-item>
        <mat-list-item *ngIf="movieDetail.companyList.length > 0">
          <mat-icon matListItemIcon>business</mat-icon>
          <div class="mat-line">Companies</div>
          <div *ngFor="let company of movieDetail.companyList" class="mat-line">{{ company.name }}</div>
        </mat-list-item>
        <mat-list-item *ngIf="movieDetail.countryList.length > 0">
          <mat-icon matListItemIcon>flag</mat-icon>
          <div class="mat-line">Countries</div>
          <div *ngFor="let country of movieDetail.countryList" class="mat-line">{{ country.value }}</div>
        </mat-list-item>

      </mat-list>
    </mat-card-content>
  </mat-card>
</ng-container>
<ng-template #loading>
  <mat-spinner></mat-spinner>
</ng-template>
